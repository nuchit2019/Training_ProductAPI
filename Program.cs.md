
# Program.cs р╣Бр╕ер╕░ DI Container (Dependency Injection Container) 
**Loose Coupling** р╕Др╕╖р╕нр╕лр╕▒р╕зр╣Гр╕Ир╕Вр╕нр╕Зр╕Бр╕▓р╕гр╕нр╕нр╕Бр╣Бр╕Ър╕Ъ Software р╕Чр╕╡р╣Ир╕Фр╕╡ р╣Вр╕Фр╕вр╣Ар╕Йр╕Юр╕▓р╕░р╕Бр╕▒р╕Ър╣Бр╕Щр╕зр╕Др╕┤р╕Фр╣Ар╕Кр╣Ир╕Щ **SOLID**, **DI (Dependency Injection)** р╣Бр╕ер╕░ **Clean Architecture** р╕Чр╕╡р╣Ир╣Ар╕гр╕▓р╣Гр╕Кр╣Йр╕нр╕вр╕╣р╣И ЁЯШД
#
### SOLID 
https://github.com/nuchit2019/Training_ProductAPI/blob/main/SOLID.md

## ЁЯзй **Loose Coupling р╕Др╕╖р╕нр╕нр╕░р╣Др╕г?**

**Loose Coupling** р╕лр╕гр╕╖р╕н "р╕Бр╕▓р╕гр╣Ар╕Кр╕╖р╣Ир╕нр╕бр╣Вр╕вр╕Зр╕Бр╕▒р╕Щр╕нр╕вр╣Ир╕▓р╕Зр╕лр╕ер╕зр╕б" р╕Др╕╖р╕нр╕Бр╕▓р╕гр╕Чр╕╡р╣И **р╣Бр╕Хр╣Ир╕ер╕░р╕кр╣Ир╕зр╕Щр╕Вр╕нр╕Зр╕гр╕░р╕Ър╕Ър╣Др╕бр╣Ир╕Юр╕╢р╣Ир╕Зр╕Юр╕▓р╕Бр╕▒р╕Щр╣Вр╕Фр╕вр╕Хр╕гр╕Зр╕бр╕▓р╕Бр╣Ар╕Бр╕┤р╕Щр╣Др╕Ы**  
р╕Юр╕╣р╕Фр╕Зр╣Ир╕▓р╕в р╣Ж р╕Др╕╖р╕н **Component р╕лр╕Щр╕╢р╣Ир╕Зр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕Зр╣Др╕Фр╣Й р╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Бр╕гр╕░р╕Чр╕Ър╕Бр╕▒р╕Ъ Component р╕нр╕╖р╣Ир╕Щ**

#

### ЁЯФН р╕вр╕Бр╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Гр╕лр╣Йр╣Ар╕лр╣Зр╕Щр╕ар╕▓р╕Юр╕Зр╣Ир╕▓р╕в р╣Ж:

#### тЭМ Tight Coupling (р╕Ьр╕╣р╕Бр╕Хр╕┤р╕Фр╣Бр╕Щр╣Ир╕Щр╣Ар╕Бр╕┤р╕Щр╣Др╕Ы)
```csharp
public class ProductController
{
    private readonly ProductService _productService = new ProductService(); // р╕Ьр╕╣р╕Бр╕Хр╕гр╕З р╣Ж

    public void GetProducts() => _productService.GetAll();
}
```
- р╕Цр╣Йр╕▓р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Кр╕╖р╣Ир╕н class р╕лр╕гр╕╖р╕н logic р╣Гр╕Щ `ProductService` тЖТ р╕Хр╣Йр╕нр╕Зр╣Бр╕Бр╣Йр╕Чр╕╡р╣И `ProductController` р╕Фр╣Йр╕зр╕в
- Unit Test р╕Чр╕│р╣Др╕Фр╣Йр╕вр╕▓р╕Б р╣Ар╕Юр╕гр╕▓р╕░р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Ц Mock р╣Др╕Фр╣Й

#

#### тЬЕ Loose Coupling (р╕Ьр╕╣р╕Бр╕лр╕ер╕зр╕б р╣Гр╕Кр╣Й Interface)
```csharp
public class ProductController
{
    private readonly IProductService _productService;

    public ProductController(IProductService productService)
    {
        _productService = productService;
    }

    public void GetProducts() => _productService.GetAll();
}
```
- `Controller` р╣Др╕бр╣Ир╕гр╕╣р╣Йр╕зр╣Ир╕▓р╣Ар╕Ър╕╖р╣Йр╕нр╕Зр╕лр╕ер╕▒р╕Зр╕Др╕╖р╕н `ProductService` р╕лр╕гр╕╖р╕нр╕Вр╕нр╕Зр╣Гр╕Др╕г
- р╣Бр╕Др╣Ир╕гр╕╣р╣Йр╕зр╣Ир╕▓р╣Гр╕Кр╣Й `IProductService` р╕Бр╣Зр╕Юр╕н
- р╕Чр╕│р╣Гр╕лр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ implementation р╣Др╕Фр╣Йр╕нр╕вр╣Ир╕▓р╕Зр╕вр╕╖р╕Фр╕лр╕вр╕╕р╣Ир╕Щ
- р╕Чр╕Фр╕кр╕нр╕Ър╕Зр╣Ир╕▓р╕в тЖТ Inject Mock Service р╣Др╕Фр╣Йр╣Ар╕ер╕в

#

## тЬЕ р╕Вр╣Йр╕нр╕Фр╕╡р╕Вр╕нр╕З Loose Coupling

| р╕Вр╣Йр╕нр╕Фр╕╡ | р╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕в |
|-------|----------|
| **р╕Фр╕╣р╣Бр╕ер╕Зр╣Ир╕▓р╕в** | р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕лр╕гр╕╖р╕нр╣Бр╕Бр╣Йр╣Вр╕Др╣Йр╕Фр╕кр╣Ир╕зр╕Щр╕лр╕Щр╕╢р╣Ир╕Зр╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Бр╕гр╕░р╕Чр╕Ър╕нр╕╡р╕Бр╕кр╣Ир╕зр╕Щ |
| **р╕Чр╕Фр╕кр╕нр╕Ър╕Зр╣Ир╕▓р╕в** | Mock р╕лр╕гр╕╖р╕н Stub dependencies р╣Др╕Фр╣Й |
| **р╕вр╕╖р╕Фр╕лр╕вр╕╕р╣Ир╕Щ** | р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ Implementation р╣Др╕Фр╣Йр╕кр╕Ър╕▓р╕в р╣Ар╕Кр╣Ир╕Щр╕Ир╕▓р╕Б Local р╣Ар╕Ыр╣Зр╕Щ Remote |
| **р╕Вр╕вр╕▓р╕вр╕гр╕░р╕Ър╕Ър╕Зр╣Ир╕▓р╕в** | р╣Ар╕Юр╕┤р╣Ир╕бр╕Др╕зр╕▓р╕бр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Гр╕лр╕бр╣Ир╣Вр╕Фр╕вр╣Др╕бр╣Ир╕Хр╣Йр╕нр╕Зр╕гр╕╖р╣Йр╕нр╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕Фр╕┤р╕б |

#

## ЁЯФз р╕Хр╕▒р╕зр╕Кр╣Ир╕зр╕вр╕Чр╕╡р╣Ир╕Чр╕│р╣Гр╕лр╣Й Loose Coupling р╣Ар╕Ыр╣Зр╕Щр╕Ир╕гр╕┤р╕З

- **Interface** тАУ р╕Чр╕│р╣Гр╕лр╣Йр╣Др╕бр╣Ир╕Ьр╕╣р╕Бр╕Бр╕▒р╕Ъ Implementation р╕Хр╕гр╕З р╣Ж
- **DI Container** тАУ р╕Кр╣Ир╕зр╕в inject dependency р╣Гр╕лр╣Йр╣Вр╕Фр╕вр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- **SOLID Principle** тАУ р╣Вр╕Фр╕вр╣Ар╕Йр╕Юр╕▓р╕░ "D" = **Dependency Inversion Principle**

#ЁЯШД
